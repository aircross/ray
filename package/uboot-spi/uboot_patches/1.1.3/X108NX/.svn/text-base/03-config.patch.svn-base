--- Uboot-1.1.3/.config	2010-07-21 16:19:13.000000000 +0800
+++ Uboot-1.1.3/.config	2010-07-22 12:02:25.215011309 +0800
@@ -1,21 +1,33 @@
 #
 # Automatically generated by make menuconfig: don't edit
 #
-CONFIG_CROSS_COMPILER_PATH="/opt/buildroot-gcc342/bin"
+CONFIG_CROSS_COMPILER_PATH="/opt/toolchain-mipsel_gcc4.2.4/bin"
 # RT2880_ASIC_BOARD is not set
 # RT3350_ASIC_BOARD is not set
 RT3052_ASIC_BOARD=y
 # RT3883_ASIC_BOARD is not set
 RT3052_MP2=y
-P5_MAC_TO_NONE_MODE=y
+ABOCOM_5205ABC_BOARD=y
+# ABOCOM_5204UA_BOARD is not set
+# ABOCOM_5205G_BOARD is not set
+# AMIT_CDM530AM_BOARD is not set
+# AMIT_CDW531AC_BOARD is not set
+# AMIT_CDE530_BOARD is not set
+# AMIT_CDE570_BOARD is not set
+GPIO_WPS_BUTTON=0
+GPIO_RESET_BUTTON=10
+# P5_MAC_TO_NONE_MODE is not set
 # P5_MAC_TO_PHY_MODE is not set
-# P5_RGMII_TO_MAC_MODE is not set
+P5_RGMII_TO_MAC_MODE=y
 # P5_MII_TO_MAC_MODE is not set
 # P5_RMII_TO_MAC_MODE is not set
 # MAC_TO_100SW_MODE is not set
 # MAC_TO_100PHY_MODE is not set
 # MAC_TO_VITESSE_MODE is not set
 # MAC_TO_GIGAPHY_MODE is not set
+CONFIG_AR8316=y
+# CONFIG_RTL8366 is not set
+GPIOx_RESET_MODE=y
 # ON_BOARD_NOR_FLASH_COMPONENT is not set
 # ON_BOARD_NAND_FLASH_COMPONENT is not set
 ON_BOARD_SPI_FLASH_COMPONENT=y
--- Uboot-1.1.3/autoconf.h	2010-07-21 16:19:13.000000000 +0800
+++ Uboot-1.1.3/autoconf.h	2010-07-22 12:02:25.215011309 +0800
@@ -2,21 +2,33 @@
  * Automatically generated by make menuconfig: don't edit
  */
 #define AUTOCONF_INCLUDED
-#define CONFIG_CROSS_COMPILER_PATH "/opt/buildroot-gcc342/bin"
+#define CONFIG_CROSS_COMPILER_PATH "/opt/toolchain-mipsel_gcc4.2.4/bin"
 #undef  RT2880_ASIC_BOARD
 #undef  RT3350_ASIC_BOARD
 #define RT3052_ASIC_BOARD 1
 #undef  RT3883_ASIC_BOARD
 #define RT3052_MP2 1
-#define P5_MAC_TO_NONE_MODE 1
+#define ABOCOM_5205ABC_BOARD 1
+#undef  ABOCOM_5204UA_BOARD
+#undef  ABOCOM_5205G_BOARD
+#undef  AMIT_CDM530AM_BOARD
+#undef  AMIT_CDW531AC_BOARD
+#undef  AMIT_CDE530_BOARD
+#undef  AMIT_CDE570_BOARD
+#define GPIO_WPS_BUTTON (0)
+#define GPIO_RESET_BUTTON (10)
+#undef  P5_MAC_TO_NONE_MODE
 #undef  P5_MAC_TO_PHY_MODE
-#undef  P5_RGMII_TO_MAC_MODE
+#define P5_RGMII_TO_MAC_MODE 1
 #undef  P5_MII_TO_MAC_MODE
 #undef  P5_RMII_TO_MAC_MODE
 #undef  MAC_TO_100SW_MODE
 #undef  MAC_TO_100PHY_MODE
 #undef  MAC_TO_VITESSE_MODE
 #undef  MAC_TO_GIGAPHY_MODE
+#define CONFIG_AR8316 1
+#undef  CONFIG_RTL8366
+#define GPIOx_RESET_MODE 1
 #undef  ON_BOARD_NOR_FLASH_COMPONENT
 #undef  ON_BOARD_NAND_FLASH_COMPONENT
 #define ON_BOARD_SPI_FLASH_COMPONENT 1
--- Uboot-1.1.3/config.in	2010-07-22 11:57:28.302510390 +0800
+++ Uboot-1.1.3/config.in	2010-07-22 11:50:38.000000000 +0800
@@ -40,7 +40,53 @@
 
 define_bool RT3052_MP2 y
 
+choice 'Factory Board' "5205ABC_AboCom		ABOCOM_5205ABC_BOARD \
+                        5204UA_AboCom		ABOCOM_5204UA_BOARD \
+                        5205G_AboCom_Giga	ABOCOM_5205G_BOARD \
+                        CDM530AM_Amit		AMIT_CDM530AM_BOARD \
+                        CDW531AC_Amit		AMIT_CDW531AC_BOARD \
+                        CDE530_Amit		AMIT_CDE530_BOARD \
+                        CDE570_Amit_Giga	AMIT_CDE570_BOARD
+		      	" 5205ABC_AboCom
+
+if [ "$ABOCOM_5205ABC_BOARD" = "y" -o "$ABOCOM_5205G_BOARD" = "y" ]; then
+    define_int GPIO_WPS_BUTTON 0
+    define_int GPIO_RESET_BUTTON 10
+    ON_BOARD_16BIT_DRAM_BUS=n
+    ON_BOARD_32BIT_DRAM_BUS=y
+elif [ "$ABOCOM_5204UA_BOARD" = "y" ]; then
+    define_int GPIO_WPS_BUTTON 0
+    define_int GPIO_RESET_BUTTON 10
+    ON_BOARD_16BIT_DRAM_BUS=y
+    ON_BOARD_32BIT_DRAM_BUS=n
+elif [ "$AMIT_CDM530AM_BOARD" = "y" -o "$AMIT_CDE530_BOARD" = "y" ]; then
+    define_int GPIO_WPS_BUTTON 18
+    define_int GPIO_RESET_BUTTON 13
+    define_int GPIO_ENABLE_HIGH 0
+    ON_BOARD_16BIT_DRAM_BUS=y
+    ON_BOARD_32BIT_DRAM_BUS=n
+elif [ "$AMIT_CDE570_BOARD" = "y" ]; then 
+    define_int GPIO_WPS_BUTTON 10
+    define_int GPIO_RESET_BUTTON 12
+    define_int GPIO_ENABLE_HIGH 0
+    ON_BOARD_16BIT_DRAM_BUS=n
+    ON_BOARD_32BIT_DRAM_BUS=y
+elif [ "$AMIT_CDW531AC_BOARD" = "y" ]; then
+    define_int GPIO_WPS_BUTTON 10
+    define_int GPIO_RESET_BUTTON 13
+    define_int GPIO_ENABLE_HIGH 0
+    ON_BOARD_16BIT_DRAM_BUS=y
+    ON_BOARD_32BIT_DRAM_BUS=n
+else
+    define_int GPIO_WPS_BUTTON 0
+    define_int GPIO_RESET_BUTTON 10
+    define_int GPIO_ENABLE_HIGH 1
+    ON_BOARD_16BIT_DRAM_BUS=y
+    ON_BOARD_32BIT_DRAM_BUS=n
+fi
+
 if [ "$RT3350_ASIC_BOARD" != "y" ]; then
+
 choice 'Port 5 Connect to' "None		P5_MAC_TO_NONE_MODE \
 			    Giga_Phy(RGMII)	P5_MAC_TO_PHY_MODE \
 	       	      	    Giga_SW/iNIC(RGMII)	P5_RGMII_TO_MAC_MODE \
@@ -62,6 +108,11 @@
       hex "GigaPHY address for Auto Polling" MAC_TO_GIGAPHY_MODE_ADDR 0x1f
    fi
 fi
+if [ "$P5_RGMII_TO_MAC_MODE" = "y" ]; then
+choice 'Giga Switch is'	"AR8316 CONFIG_AR8316 \
+			 RTL8366 CONFIG_RTL8366 \
+			" AR8316
+fi
 fi
 
 #########
